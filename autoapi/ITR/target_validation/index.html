<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ITR.target_validation &mdash; WWF Finance Tool  documentation</title>
      <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/graphviz.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../../index.html" class="icon icon-home"> WWF Finance Tool
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../intro.html">Introduction to temperature scoring and portfolio coverage methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../getting_started.html">Getting Started Using Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../FunctionalOverview.html">Functional Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../DataRequirements.html">Data Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Legends.html">Data Legends</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../links.html">Project Links</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../terms.html">Terms of Use</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../index.html">API Reference</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">WWF Finance Tool</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
      <li><code class="xref py py-mod docutils literal notranslate"><span class="pre">ITR.target_validation</span></code></li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/autoapi/ITR/target_validation/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-ITR.target_validation">
<span id="itr-target-validation"></span><h1><a class="reference internal" href="#module-ITR.target_validation" title="ITR.target_validation"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ITR.target_validation</span></code></a><a class="headerlink" href="#module-ITR.target_validation" title="Permalink to this heading"></a></h1>
<section id="module-contents">
<h2>Module Contents<a class="headerlink" href="#module-contents" title="Permalink to this heading"></a></h2>
<section id="classes">
<h3>Classes<a class="headerlink" href="#classes" title="Permalink to this heading"></a></h3>
<table class="autosummary longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#ITR.target_validation.TargetProtocol" title="ITR.target_validation.TargetProtocol"><code class="xref py py-obj docutils literal notranslate"><span class="pre">TargetProtocol</span></code></a></p></td>
<td><p>This class validates the targets, to make sure that only active, useful</p></td>
</tr>
</tbody>
</table>
</section>
<section id="attributes">
<h3>Attributes<a class="headerlink" href="#attributes" title="Permalink to this heading"></a></h3>
<table class="autosummary longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#ITR.target_validation.logger" title="ITR.target_validation.logger"><code class="xref py py-obj docutils literal notranslate"><span class="pre">logger</span></code></a></p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
<dl class="py data">
<dt class="sig sig-object py" id="ITR.target_validation.logger">
<span class="sig-prename descclassname"><span class="pre">ITR.target_validation.</span></span><span class="sig-name descname"><span class="pre">logger</span></span><a class="headerlink" href="#ITR.target_validation.logger" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ITR.target_validation.TargetProtocol">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ITR.target_validation.</span></span><span class="sig-name descname"><span class="pre">TargetProtocol</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Type</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../configs/index.html#ITR.configs.PortfolioAggregationConfig" title="ITR.configs.PortfolioAggregationConfig"><span class="pre">ITR.configs.PortfolioAggregationConfig</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">PortfolioAggregationConfig</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ITR.target_validation.TargetProtocol" title="Permalink to this definition"></a></dt>
<dd><p>This class validates the targets, to make sure that only active, useful
targets are considered. It then combines the targets with company-related
data into a dataframe where there’s one row for each of the nine possible
target types (short, mid, long * S1+S2, S3, S1+S2+S3).
This class follows the procedures outlined by the target protocol that is
a part of the “Temperature Rating Methodology” (2024), which has been created
by CDP Worldwide and WWF International.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>config</strong> – A Portfolio aggregation config</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="ITR.target_validation.TargetProtocol.process">
<span class="sig-name descname"><span class="pre">process</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">targets</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../interfaces/index.html#ITR.interfaces.IDataProviderTarget" title="ITR.interfaces.IDataProviderTarget"><span class="pre">ITR.interfaces.IDataProviderTarget</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">companies</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../interfaces/index.html#ITR.interfaces.IDataProviderCompany" title="ITR.interfaces.IDataProviderCompany"><span class="pre">ITR.interfaces.IDataProviderCompany</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">pandas.DataFrame</span></span></span><a class="headerlink" href="#ITR.target_validation.TargetProtocol.process" title="Permalink to this definition"></a></dt>
<dd><p>Process the targets and companies, validate all targets and return a data frame that combines all targets and company data into a 9-box grid.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>targets</strong> – A list of targets</p></li>
<li><p><strong>companies</strong> – A list of companies</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A data frame that combines the processed data</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ITR.target_validation.TargetProtocol._validate">
<span class="sig-name descname"><span class="pre">_validate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../interfaces/index.html#ITR.interfaces.IDataProviderTarget" title="ITR.interfaces.IDataProviderTarget"><span class="pre">ITR.interfaces.IDataProviderTarget</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#ITR.target_validation.TargetProtocol._validate" title="Permalink to this definition"></a></dt>
<dd><p>Validate a target, meaning it should:</p>
<ul class="simple">
<li><p>Have a valid type</p></li>
<li><p>Not be finished</p></li>
<li><p>A valid end year</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>target</strong> – The target to validate</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if it’s a valid target, false if it isn’t</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ITR.target_validation.TargetProtocol._validate_t_score">
<span class="sig-name descname"><span class="pre">_validate_t_score</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../interfaces/index.html#ITR.interfaces.IDataProviderTarget" title="ITR.interfaces.IDataProviderTarget"><span class="pre">ITR.interfaces.IDataProviderTarget</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#ITR.target_validation.TargetProtocol._validate_t_score" title="Permalink to this definition"></a></dt>
<dd><p>Validate targets set using the CDP_WWF temperature scoing methodology
:param target: The target to validate
:return: True if it’s a valid target, false if it isn’t</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ITR.target_validation.TargetProtocol._split_s1s2s3">
<span class="sig-name descname"><span class="pre">_split_s1s2s3</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../interfaces/index.html#ITR.interfaces.IDataProviderTarget" title="ITR.interfaces.IDataProviderTarget"><span class="pre">ITR.interfaces.IDataProviderTarget</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../interfaces/index.html#ITR.interfaces.IDataProviderTarget" title="ITR.interfaces.IDataProviderTarget"><span class="pre">ITR.interfaces.IDataProviderTarget</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../interfaces/index.html#ITR.interfaces.IDataProviderTarget" title="ITR.interfaces.IDataProviderTarget"><span class="pre">ITR.interfaces.IDataProviderTarget</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#ITR.target_validation.TargetProtocol._split_s1s2s3" title="Permalink to this definition"></a></dt>
<dd><p>If there is a s1s2s3 scope, split it into two targets with s1s2 and s3
This S3 target becomes a headline target
:param target: The input target
:return The split targets or the original target and None</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ITR.target_validation.TargetProtocol._split_s1s2_new">
<span class="sig-name descname"><span class="pre">_split_s1s2_new</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">pandas.DataFrame</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">pandas.DataFrame</span></span></span><a class="headerlink" href="#ITR.target_validation.TargetProtocol._split_s1s2_new" title="Permalink to this definition"></a></dt>
<dd><p>Split the target into two targets, one for the S1 data and one for the S2 data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>target</strong> – The target to potentially split.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list containing the S1 target and the S2 target from the split.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ITR.target_validation.TargetProtocol._scale_reduction_ambition_by_boundary_coverage_new">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">_scale_reduction_ambition_by_boundary_coverage_new</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">pandas.DataFrame</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="headerlink" href="#ITR.target_validation.TargetProtocol._scale_reduction_ambition_by_boundary_coverage_new" title="Permalink to this definition"></a></dt>
<dd><p>Change in ITR method 1.5: all targets have their ambition scaled by their boundary coverage.
:param target: The input target
:return: The original target with a weighted reduction ambition, if so required</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ITR.target_validation.TargetProtocol._assign_time_frame">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">_assign_time_frame</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../interfaces/index.html#ITR.interfaces.IDataProviderTarget" title="ITR.interfaces.IDataProviderTarget"><span class="pre">ITR.interfaces.IDataProviderTarget</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="../interfaces/index.html#ITR.interfaces.IDataProviderTarget" title="ITR.interfaces.IDataProviderTarget"><span class="pre">ITR.interfaces.IDataProviderTarget</span></a></span></span><a class="headerlink" href="#ITR.target_validation.TargetProtocol._assign_time_frame" title="Permalink to this definition"></a></dt>
<dd><dl class="simple">
<dt>Time frame is forward looking: target year - current year.</dt><dd><p>Less than 5y = short,
between 5 and 10 is mid,
more than 10 is long</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>target</strong> – The input target</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The original target with the time_frame field filled out (if so required)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ITR.target_validation.TargetProtocol._prepare_targets">
<span class="sig-name descname"><span class="pre">_prepare_targets</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">targets</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../interfaces/index.html#ITR.interfaces.IDataProviderTarget" title="ITR.interfaces.IDataProviderTarget"><span class="pre">ITR.interfaces.IDataProviderTarget</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ITR.target_validation.TargetProtocol._prepare_targets" title="Permalink to this definition"></a></dt>
<dd><dl class="simple">
<dt>logic</dt><dd><ul class="simple">
<li><p>drop invalid targets</p></li>
<li><p>identifying the pure-S2 targets for later use</p></li>
<li><p>splitting s1s2s3 into s1s2 and s3</p></li>
<li><p>combining s1 and s2</p></li>
<li><p>assign target.reduction_ambition by considering target’s boundary coverage</p></li>
</ul>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>targets</strong> – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ITR.target_validation.TargetProtocol._find_target">
<span class="sig-name descname"><span class="pre">_find_target</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">row</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">pandas.Series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_columns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">pandas.DataFrame</span></span></span><a class="headerlink" href="#ITR.target_validation.TargetProtocol._find_target" title="Permalink to this definition"></a></dt>
<dd><p>Find the target that corresponds to a given row. If there are multiple targets available, filter them.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>row</strong> – The row from the data set that should be looked for</p></li>
<li><p><strong>target_columns</strong> – The columns to return</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>records from the input data, which contains company and target information, that meet specific criteria. For example, record of greatest emissions_in_scope</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ITR.target_validation.TargetProtocol._find_s3_targets">
<span class="sig-name descname"><span class="pre">_find_s3_targets</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">pandas.DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_columns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">pandas.DataFrame</span></span></span><a class="headerlink" href="#ITR.target_validation.TargetProtocol._find_s3_targets" title="Permalink to this definition"></a></dt>
<dd><p>Find S3 target that correspond to the given row. Note that there may be more
than one S3 target. We first look for a headline target and return that.
If there is none we look for the targets with the latest confirmation date.
Then check if there is more than one target with the same confirmation date.
The method then returns all non headline targets with the latest confirmation date.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>target_data</strong> – The target data</p></li>
<li><p><strong>target_columns</strong> – The columns to return</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The target data that meet the criteria</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ITR.target_validation.TargetProtocol.group_targets">
<span class="sig-name descname"><span class="pre">group_targets</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ITR.target_validation.TargetProtocol.group_targets" title="Permalink to this definition"></a></dt>
<dd><p>Group the targets and create the target grid (short, mid, long * s1s2, s3, s1s2s3).
Group valid targets by category &amp; filter multiple targets
Input: a list of valid targets for each company:
For each company:</p>
<p>Group all valid targets based on scope (S1+S2 / S3 / S1+S2+S3) and time frame (short / mid / long-term)
into 6 categories.</p>
<p>For each category: if more than 1 target is available, filter based on the following criteria
– Latest vintage
– Highest boundary coverage
– Latest end year
– Target type: Absolute over intensity
– If all else is equal: average the ambition of targets</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ITR.target_validation.TargetProtocol.sort_on_vintage">
<span class="sig-name descname"><span class="pre">sort_on_vintage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">pandas.DataFrame</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">pandas.DataFrame</span></span></span><a class="headerlink" href="#ITR.target_validation.TargetProtocol.sort_on_vintage" title="Permalink to this definition"></a></dt>
<dd><p>For each combination of company id, time frame, and scope, find all targets with the same latest
TARGET_CONFIRM_DATE and return as a DataFrame of targets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>target_data</strong> – a DataFrame with target data</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A DataFrame of targets sorted based on their vintage</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ITR.target_validation.TargetProtocol.sort_boundary_coverage">
<span class="sig-name descname"><span class="pre">sort_boundary_coverage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">pandas.DataFrame</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">pandas.DataFrame</span></span></span><a class="headerlink" href="#ITR.target_validation.TargetProtocol.sort_boundary_coverage" title="Permalink to this definition"></a></dt>
<dd><p>We want to select the scope 1 and scope 2 targets that have the highest
combined boundary coverage for each group of self.c.COLS.COMPANY_ID,
self.c.COLS.TIME_FRAME, self.c.COLS.SCOPE.
We compare combinations of individual scope 1 and scope 2
targets with combined S1+S2 targets, and select the combination with
the highest boundary coverage. If there is only one single scope target
(e.g., S1 but no S2), we dismiss it.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>data</strong> – A dataframe with the target data</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A dataframe with the target data sorted by boundary coverage</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, WWF Sweden.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>